(()=>{var e={};e.id=5062,e.ids=[5062],e.modules={1265:(e,t,r)=>{Promise.resolve().then(r.bind(r,23699))},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},10878:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var s=r(60687),a=r(43210),i=r(50311),n=r(33607);let o=({onStatusChange:e,resetTrigger:t})=>{let[r,i]=(0,a.useState)(300),[n,o]=(0,a.useState)("active");return(0,a.useEffect)(()=>{if(0===r){"timeout"!==n&&(o("timeout"),e?.("timeout"));return}let t=setInterval(()=>{i(e=>e-1)},1e3);return()=>clearInterval(t)},[r]),(0,a.useEffect)(()=>{e?.(n)},[n,e]),(0,a.useEffect)(()=>{i(300),o("active"),e?.("active")},[t]),(0,s.jsx)("div",{className:"text-base font-bold text-center text-red-600",children:(e=>{let t=Math.floor(e/60);return`${t.toString().padStart(2,"0")}:${(e%60).toString().padStart(2,"0")}`})(r)})};var l=r(68296),u=r(49384);let c=function({handleSubmit:e,loading:t,onChange:r,otpLength:c=6,email:p,handleResentOTP:d}){let[x,m]=(0,a.useState)(Array(c).fill("")),f=(0,a.useRef)([]),[h,g]=(0,a.useState)(!1),v=(e,t)=>{if(!/^\d?$/.test(e))return;let r=[...x];r[t]=e,m(r),e&&t<c-1&&f.current[t+1]?.focus()},y=(e,t)=>{"Backspace"===e.key&&!x[t]&&t>0&&f.current[t-1]?.focus(),"ArrowLeft"===e.key&&t>0&&f.current[t-1]?.focus(),"ArrowRight"===e.key&&t<c-1&&f.current[t+1]?.focus()},S=e=>{let t=e.clipboardData.getData("text").slice(0,c);if(!/^\d+$/.test(t))return;let r=t.split("");m([...r,...Array(c-r.length).fill("")]),setTimeout(()=>{f.current[t.length-1]?.focus()},0)};return(0,s.jsxs)("main",{children:[(0,s.jsx)(i.A,{}),(0,s.jsx)("div",{className:" flex my-40 items-center justify-center px-4",children:(0,s.jsxs)("div",{className:"w-full sm:max-w-[400px]  bg-white text-center",children:[(0,s.jsx)("h2",{className:"sm:text-[27px] text-[19.5px] font-medium font-poppins",children:"Enter OTP To Continue"}),(0,s.jsxs)("p",{className:"text-[#767676] font-normal font-poppins text-[9px] sm:text-[12px]",children:["Enter the code sent to ",(0,s.jsx)("span",{className:"text-[#FF1645] font-normal font-poppins text-[12px]",children:p})]}),(0,s.jsx)("div",{className:"flex justify-between mb-[18px] text-[11px] sm:gap-[15px] mt-[18px]",children:x.map((e,t)=>(0,s.jsx)("input",{type:"text",inputMode:"numeric",maxLength:1,value:e,ref:e=>f.current[t]=e,onChange:e=>v(e.target.value,t),onKeyDown:e=>y(e,t),onPaste:S,autoFocus:0===t,className:"w-[40.5px] h-[40.5px] sm:w-[52.5px] sm:h-[52.5px] text-center text-xl border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-[#FFE7EC]"},t))}),(0,s.jsx)(l.A,{className:"py-1",children:(0,s.jsx)(o,{resetTrigger:!h,onStatusChange:e=>{"timeout"===e&&g(!0)}})}),(0,s.jsx)("p",{className:"text-[#767676] font-normal font-poppins text-[12px]",children:"Didn't get OTP Code?"}),(0,s.jsx)("button",{onClick:d,className:(0,u.A)("text-[#FF1645] font-normal font-poppins text-[12px]",h?"cursor-pointer":"cursor-not-allowed opacity-50"),children:"Resend Code"}),(0,s.jsxs)("button",{type:"submit",onClick:e,disabled:t,className:"w-full mt-3 text-[14px] cursor-pointer max-w-md w-f font-medium bg-[#FF1645] text-white  h-[35px] rounded-[3px] hover:bg-[#D8133A] transition flex items-center justify-center",children:[t?(0,s.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):null,t?"loading...":"Submit"]})]})}),(0,s.jsx)(n.w,{})]})}},17155:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>d,tree:()=>u});var s=r(65239),a=r(48088),i=r(88170),n=r.n(i),o=r(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let u={children:["",{children:["profile",{children:["otp-verification",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,56141)),"/Users/muhammadnihad/Desktop/emiraaz/emiraaz-next/app/profile/otp-verification/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,57731)),"/Users/muhammadnihad/Desktop/emiraaz/emiraaz-next/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,52608)),"/Users/muhammadnihad/Desktop/emiraaz/emiraaz-next/app/error.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,82366)),"/Users/muhammadnihad/Desktop/emiraaz/emiraaz-next/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/muhammadnihad/Desktop/emiraaz/emiraaz-next/app/profile/otp-verification/page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},d=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/profile/otp-verification/page",pathname:"/profile/otp-verification",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},23699:(e,t,r)=>{"use strict";r.d(t,{default:()=>m});var s=r(60687),a=r(43210),i=r(16189),n=r(89722),o=r(52419),l=r(10878),u=r(38578),c=r(73792),p=r(51214),d=r(54864);function x(){let{user:e}=(0,d.d4)(e=>e.user);(0,p.A)();let t=(0,i.useRouter)(),[r]=(0,u.Dy)(),[x]=(0,u.Sf)(),[m,f]=(0,a.useState)(!1),[h,g]=(0,a.useState)(Array(6).fill("")),v=async()=>{let e=localStorage.getItem(n.rS.CHANGE_PASSWORD_TOKEN);try{f(!0);let r=h.join("");if(6!==r.length)return void(0,o.A)("Please enter all 6 digits.");if(!e){(0,o.A)("Invalid or expired token. Please try again."),t.push("/registration");return}await x({otp:r,token:localStorage.getItem(n.rS.CHANGE_PASSWORD_TOKEN)||""}).unwrap(),localStorage.removeItem(n.rS.RESET_PASSWORD_TOKEN),(0,o.Z)("OTP verified successfully"),t.push("/profile")}catch(e){(0,c.h)(e)}finally{f(!1)}},y=async()=>{try{f(!0);let t=localStorage.getItem(n.rS.CHANGE_PASSWORD_TOKEN);if(t&&e){let s={token:t,email:e.email},a=await r(s).unwrap();localStorage.setItem(n.rS.CHANGE_PASSWORD_TOKEN,a.token),(0,o.Z)("OTP sent successfully")}}catch(e){(0,c.h)(e)}finally{f(!1)}};return(0,s.jsx)(l.A,{handleResentOTP:y,email:e?.email||"",handleSubmit:v,loading:m,onChange:e=>{g(e)}})}function m(){return(0,s.jsx)(a.Suspense,{fallback:(0,s.jsx)("div",{children:"Loading..."}),children:(0,s.jsx)(x,{})})}},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},51214:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(43210),a=r(54864),i=r(51512),n=r(16189);let o=()=>{let e=(0,n.useRouter)(),{isAuthentication:t}=(0,a.d4)(e=>e.user),{localUser:r}=(0,i.F)();(0,s.useEffect)(()=>{t||r||e.push("/login")},[t,r,e])}},51512:(e,t,r)=>{"use strict";r.d(t,{F:()=>a}),r(89722);var s=r(43210);let a=()=>{let[e,t]=(0,s.useState)(null);return(0,s.useEffect)(()=>{},[]),{localUser:e,updateLocalUser:e=>{},clearUserData:()=>{}}}},52419:(e,t,r)=>{"use strict";r.d(t,{A:()=>i,Z:()=>a});var s=r(37590);let a=e=>{s.Ay.success(e)},i=e=>{s.Ay.error(e)}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},56141:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(37413),a=r(56569);r(61120);let i=function(){return(0,s.jsx)(a.default,{})}},56569:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/muhammadnihad/Desktop/emiraaz/emiraaz-next/components/OTPVerification/ChangePasswordOTPVerification.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/muhammadnihad/Desktop/emiraaz/emiraaz-next/components/OTPVerification/ChangePasswordOTPVerification.tsx","default")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73792:(e,t,r)=>{"use strict";r.d(t,{h:()=>a});var s=r(52419);let a=e=>{let t=e?.data,r=t?.message||e?.message||"Something went wrong. Please try again later.",a=t?.errors;e?.status==="FETCH_ERROR"&&(r="Something went wrong. Please try again later."),Array.isArray(a)&&a.length>0?a.forEach(e=>(0,s.A)(e)):(0,s.A)(r)}},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},91645:e=>{"use strict";e.exports=require("net")},94641:(e,t,r)=>{Promise.resolve().then(r.bind(r,56569))},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[9393,5590],()=>r(17155));module.exports=s})();