(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7632],{2549:(e,t,s)=>{"use strict";s.d(t,{A:()=>r,Z:()=>l});var n=s(13568);let l=e=>{n.Ay.success(e)},r=e=>{n.Ay.error(e)}},18182:(e,t,s)=>{Promise.resolve().then(s.bind(s,92771))},92771:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var n=s(95155),l=s(12115),r=s(35695),a=s(29944),o=s(29005),i=s(9535),u=s(23638),c=s(2549),p=s(90748);function x(){let e=(0,r.useRouter)(),[t,s]=(0,l.useState)(Array(6).fill("")),[x,d]=(0,l.useState)(null),m=(0,l.useRef)([]),[f]=(0,u.$Q)();(0,l.useEffect)(()=>{{let t=localStorage.getItem(a.rS.RESET_PASSWORD_TOKEN);t?d(t):e.push("/login")}},[e]);let h=(e,n)=>{if(!/^\d?$/.test(e))return;let l=[...t];if(l[n]=e,s(l),e&&n<5){var r;null==(r=m.current[n+1])||r.focus()}},g=(e,s)=>{var n,l,r;"Backspace"===e.key&&!t[s]&&s>0&&(null==(n=m.current[s-1])||n.focus()),"ArrowLeft"===e.key&&s>0&&(null==(l=m.current[s-1])||l.focus()),"ArrowRight"===e.key&&s<5&&(null==(r=m.current[s+1])||r.focus())},j=e=>{let t=e.clipboardData.getData("text").slice(0,6);if(!/^\d+$/.test(t))return;let n=t.split("");s([...n,...Array(6-n.length).fill("")]),setTimeout(()=>{var e;null==(e=m.current[t.length-1])||e.focus()},0)},v=async()=>{try{let s=t.join("");if(6!==s.length)return void(0,c.A)("Please enter all 6 digits.");if(!x){(0,c.A)("Invalid or expired token. Please try again."),e.push("/login");return}await f({token:x,otp:s}).unwrap(),localStorage.removeItem(a.rS.RESET_PASSWORD_TOKEN),(0,c.Z)("Password changed successfully"),e.push("/profile")}catch(e){var s,n,l,r;(0,c.A)((null==e||null==(n=e.response)||null==(s=n.data)?void 0:s.message)||(null==e||null==(l=e.data)?void 0:l.message)||(null==e||null==(r=e.response)?void 0:r.message)||(null==e?void 0:e.message)||"Error occurred, please try again later")}};return(0,n.jsxs)("main",{children:[(0,n.jsx)(o.A,{}),(0,n.jsx)("div",{className:" flex my-40 items-center justify-center px-4",children:(0,n.jsxs)("div",{className:"w-full sm:max-w-[400px]  bg-white text-center",children:[(0,n.jsx)("h2",{className:"sm:text-[27px] text-[19.5px] font-medium font-poppins",children:"Enter OTP To Continue"}),(0,n.jsxs)("p",{className:"text-[#767676] font-normal font-poppins text-[9px] sm:text-[10.5px]",children:["Enter the code sent to ",(0,n.jsx)("span",{className:"text-[#FF1645] font-normal font-poppins text-[10.5px]",children:"jhondoe@gmail.com"})]}),(0,n.jsx)("div",{className:"flex justify-between mb-[18px] text-[11px] sm:gap-[15px] mt-[18px]",children:t.map((e,t)=>(0,n.jsx)("input",{type:"text",inputMode:"numeric",maxLength:1,value:e,ref:e=>m.current[t]=e,onChange:e=>h(e.target.value,t),onKeyDown:e=>g(e,t),onPaste:j,autoFocus:0===t,className:"w-[40.5px] h-[40.5px] sm:w-[52.5px] sm:h-[52.5px] text-center text-xl border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-[#FFE7EC]"},t))}),(0,n.jsx)("p",{className:"text-[#767676] font-normal font-poppins text-[10.5px]",children:"Didn't get OTP Code?"}),(0,n.jsx)("p",{className:"text-[#FF1645] font-normal font-poppins text-[10.5px]",children:"Resend Code"}),(0,n.jsxs)("button",{onClick:v,className:" px-8 m-auto gap-[7px] w-full sm:w-fit bg-[#FFE7EC] justify-center items-center flex mt-[18px]  text-white py-2 rounded  transition",children:[(0,n.jsx)(p.yCO,{size:18,color:"#FF1645"}),(0,n.jsx)("span",{className:"text-[#FF1645] font-poppins font-medium text-[12px] sm:text-[16px]",children:"Back"})]})]})}),(0,n.jsx)(i.w,{})]})}function d(){return(0,n.jsx)(l.Suspense,{fallback:(0,n.jsx)("div",{children:"Loading..."}),children:(0,n.jsx)(x,{})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[4506,512,9204,5891,4206,4134,2995,9304,5710,6698,404,3568,841,1448,8441,1684,7358],()=>t(18182)),_N_E=e.O()}]);