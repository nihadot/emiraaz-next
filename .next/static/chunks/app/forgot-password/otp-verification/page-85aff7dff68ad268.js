(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[408],{2148:(e,t,r)=>{"use strict";r.d(t,{h:()=>a});var l=r(2549);let a=e=>{let t=null==e?void 0:e.data,r=(null==t?void 0:t.message)||(null==e?void 0:e.message)||"Something went wrong. Please try again later.",a=null==t?void 0:t.errors;(null==e?void 0:e.status)==="FETCH_ERROR"&&(r="Something went wrong. Please try again later."),Array.isArray(a)&&a.length>0?a.forEach(e=>(0,l.A)(e)):(0,l.A)(r)}},2549:(e,t,r)=>{"use strict";r.d(t,{A:()=>s,Z:()=>a});var l=r(13568);let a=e=>{l.Ay.success(e)},s=e=>{l.Ay.error(e)}},7828:(e,t,r)=>{Promise.resolve().then(r.bind(r,46276))},46276:(e,t,r)=>{"use strict";r.d(t,{default:()=>m});var l=r(95155),a=r(12115),s=r(35695),n=r(29944),o=r(2549),i=r(23638),c=r(2148),u=r(94791);function x(){let[e,t]=(0,a.useState)(""),[r,x]=(0,a.useState)("");(0,a.useEffect)(()=>{{let e=localStorage.getItem(n.rS.FORGOT_PASSWORD_OTP),r=localStorage.getItem(n.rS.FORGOT_PASSWORD_EMAIL),l=localStorage.getItem(n.rS.FORGOT_PASSWORD_OTP_TOKEN);if(!e&&!r&&!l||!e||!r||!l)return void m.push("/forgot-password");r&&t(r),l&&x(l)}},[]);let m=(0,s.useRouter)(),[d]=(0,i.Dy)(),[f]=(0,i.Ho)(),[p,S]=(0,a.useState)(!1),[g,h]=(0,a.useState)(Array(6).fill("")),O=async()=>{let e=localStorage.getItem(n.rS.FORGOT_PASSWORD_OTP);try{S(!0);let t=g.join("");if(6!==t.length)return void(0,o.A)("Please enter all 6 digits.");if(!e||!r){(0,o.A)("Invalid or expired token. Please try again."),m.push("/forgot-password");return}await f({otp:t,token:localStorage.getItem(n.rS.FORGOT_PASSWORD_OTP_TOKEN)||""}).unwrap(),localStorage.removeItem(n.rS.FORGOT_PASSWORD_PAGE_ACCESS),localStorage.removeItem(n.rS.FORGOT_PASSWORD_OTP),localStorage.removeItem(n.rS.FORGOT_PASSWORD_EMAIL),localStorage.removeItem(n.rS.FORGOT_PASSWORD_OTP_TOKEN),(0,o.Z)("OTP verified successfully"),m.push("/login")}catch(e){(0,c.h)(e)}finally{S(!1)}},v=async()=>{try{S(!0);let e=localStorage.getItem(n.rS.SIGNUP_OTP_TOKEN),t=localStorage.getItem(n.rS.SIGNUP_TEM_DATA);if(e&&t){let r=await d({token:e,email:t}).unwrap();localStorage.setItem(n.rS.FORGOT_PASSWORD_OTP_TOKEN,r.token),(0,o.Z)("OTP sent successfully")}}catch(e){(0,c.h)(e)}finally{S(!1)}};return(0,l.jsx)(u.A,{handleResentOTP:v,email:e,handleSubmit:O,loading:p,onChange:e=>{h(e)}})}function m(){return(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)("div",{children:"Loading..."}),children:(0,l.jsx)(x,{})})}},94791:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var l=r(95155),a=r(12115),s=r(29005),n=r(9535);let o=e=>{let{onStatusChange:t,resetTrigger:r}=e,[s,n]=(0,a.useState)(300),[o,i]=(0,a.useState)("active");return(0,a.useEffect)(()=>{if(0===s){"timeout"!==o&&(i("timeout"),null==t||t("timeout"));return}let e=setInterval(()=>{n(e=>e-1)},1e3);return()=>clearInterval(e)},[s]),(0,a.useEffect)(()=>{null==t||t(o)},[o,t]),(0,a.useEffect)(()=>{n(300),i("active"),null==t||t("active")},[r]),(0,l.jsx)("div",{className:"text-base font-bold text-center text-red-600",children:(e=>{let t=Math.floor(e/60);return"".concat(t.toString().padStart(2,"0"),":").concat((e%60).toString().padStart(2,"0"))})(s)})};var i=r(99800),c=r(52596);let u=function(e){let{handleSubmit:t,loading:r,onChange:u,otpLength:x=6,email:m,handleResentOTP:d}=e,[f,p]=(0,a.useState)(Array(x).fill("")),S=(0,a.useRef)([]),[g,h]=(0,a.useState)(!1),O=(e,t)=>{if(!/^\d?$/.test(e))return;let r=[...f];if(r[t]=e,p(r),e&&t<x-1){var l;null==(l=S.current[t+1])||l.focus()}},v=(e,t)=>{var r,l,a;"Backspace"===e.key&&!f[t]&&t>0&&(null==(r=S.current[t-1])||r.focus()),"ArrowLeft"===e.key&&t>0&&(null==(l=S.current[t-1])||l.focus()),"ArrowRight"===e.key&&t<x-1&&(null==(a=S.current[t+1])||a.focus())},A=e=>{let t=e.clipboardData.getData("text").slice(0,x);if(!/^\d+$/.test(t))return;let r=t.split("");p([...r,...Array(x-r.length).fill("")]),setTimeout(()=>{var e;null==(e=S.current[t.length-1])||e.focus()},0)};return(0,a.useEffect)(()=>{u(f)},[f]),(0,l.jsxs)("main",{children:[(0,l.jsx)(s.A,{}),(0,l.jsx)("div",{className:" flex my-40 items-center justify-center px-4",children:(0,l.jsxs)("div",{className:"w-full sm:max-w-[400px]  bg-white text-center",children:[(0,l.jsx)("h2",{className:"sm:text-[27px] text-[19.5px] font-medium font-poppins",children:"Enter OTP To Continue"}),(0,l.jsxs)("p",{className:"text-[#767676] font-normal font-poppins text-[9px] sm:text-[12px]",children:["Enter the code sent to ",(0,l.jsx)("span",{className:"text-[#FF1645] font-normal font-poppins text-[12px]",children:m})]}),(0,l.jsx)("div",{className:"flex justify-between mb-[18px] text-[11px] sm:gap-[15px] mt-[18px]",children:f.map((e,t)=>(0,l.jsx)("input",{type:"text",inputMode:"numeric",maxLength:1,value:e,ref:e=>S.current[t]=e,onChange:e=>O(e.target.value,t),onKeyDown:e=>v(e,t),onPaste:A,autoFocus:0===t,className:"w-[40.5px] h-[40.5px] sm:w-[52.5px] sm:h-[52.5px] text-center text-xl border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-[#FFE7EC]"},t))}),(0,l.jsx)(i.A,{className:"py-1",children:(0,l.jsx)(o,{resetTrigger:!g,onStatusChange:e=>{"timeout"===e&&h(!0)}})}),(0,l.jsx)("p",{className:"text-[#767676] font-normal font-poppins text-[12px]",children:"Didn't get OTP Code?"}),(0,l.jsx)("button",{onClick:d,className:(0,c.A)("text-[#FF1645] font-normal font-poppins text-[12px]",g?"cursor-pointer":"cursor-not-allowed opacity-50"),children:"Resend Code"}),(0,l.jsxs)("button",{type:"submit",onClick:t,disabled:r,className:"w-full mt-3 text-[14px] cursor-pointer max-w-md w-f font-medium bg-[#FF1645] text-white  h-[35px] rounded-[3px] hover:bg-[#D8133A] transition flex items-center justify-center",children:[r?(0,l.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):null,r?"loading...":"Submit"]})]})}),(0,l.jsx)(n.w,{})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[4506,512,9204,5891,4134,2995,9304,5710,6698,404,3568,841,1448,8441,1684,7358],()=>t(7828)),_N_E=e.O()}]);