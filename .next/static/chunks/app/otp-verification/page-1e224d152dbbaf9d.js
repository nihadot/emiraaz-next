(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8252],{2148:(e,t,r)=>{"use strict";r.d(t,{h:()=>s});var n=r(2549);let s=e=>{let t=null==e?void 0:e.data,r=(null==t?void 0:t.message)||(null==e?void 0:e.message)||"Something went wrong. Please try again later.",s=null==t?void 0:t.errors;(null==e?void 0:e.status)==="FETCH_ERROR"&&(r="Something went wrong. Please try again later."),Array.isArray(s)&&s.length>0?s.forEach(e=>(0,n.A)(e)):(0,n.A)(r)}},2549:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,Z:()=>s});var n=r(13568);let s=e=>{n.Ay.success(e)},l=e=>{n.Ay.error(e)}},13072:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var n=r(95155),s=r(12115),l=r(35695),a=r(29944),o=r(2549),i=r(94791),c=r(23638),u=r(2148);function x(){let[e,t]=(0,s.useState)("");(0,s.useEffect)(()=>{{let e=localStorage.getItem(a.rS.SIGNUP_OTP_TOKEN),n=localStorage.getItem(a.rS.SIGNUP_TEM_DATA);if(!e&&!n)return void r.push("/registration");n&&t(n)}},[]);let r=(0,l.useRouter)(),[x]=(0,c.Dy)(),[d]=(0,c.Sf)(),[f,m]=(0,s.useState)(!1),[p,g]=(0,s.useState)(Array(6).fill("")),h=async()=>{let e=localStorage.getItem(a.rS.SIGNUP_OTP_TOKEN);try{m(!0);let t=p.join("");if(6!==t.length)return void(0,o.A)("Please enter all 6 digits.");if(!e){(0,o.A)("Invalid or expired token. Please try again."),r.push("/registration");return}await d({otp:t,token:localStorage.getItem(a.rS.SIGNUP_OTP_TOKEN)||""}).unwrap(),localStorage.removeItem(a.rS.RESET_PASSWORD_TOKEN),(0,o.Z)("OTP verified successfully"),r.push("/")}catch(e){(0,u.h)(e)}finally{m(!1)}},S=async()=>{try{m(!0);let e=localStorage.getItem(a.rS.SIGNUP_OTP_TOKEN),t=localStorage.getItem(a.rS.SIGNUP_TEM_DATA);if(e&&t){let r=await x({token:e,email:t}).unwrap();localStorage.setItem(a.rS.RESET_PASSWORD_TOKEN,r.token),(0,o.Z)("OTP sent successfully")}}catch(e){(0,u.h)(e)}finally{m(!1)}};return(0,n.jsx)(i.A,{handleResentOTP:S,email:e,handleSubmit:h,loading:f,onChange:e=>{g(e)}})}function d(){return(0,n.jsx)(s.Suspense,{fallback:(0,n.jsx)("div",{children:"Loading..."}),children:(0,n.jsx)(x,{})})}},18546:(e,t,r)=>{Promise.resolve().then(r.bind(r,13072))},94791:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(95155),s=r(12115),l=r(29005),a=r(9535);let o=e=>{let{onStatusChange:t,resetTrigger:r}=e,[l,a]=(0,s.useState)(300),[o,i]=(0,s.useState)("active");return(0,s.useEffect)(()=>{if(0===l){"timeout"!==o&&(i("timeout"),null==t||t("timeout"));return}let e=setInterval(()=>{a(e=>e-1)},1e3);return()=>clearInterval(e)},[l]),(0,s.useEffect)(()=>{null==t||t(o)},[o,t]),(0,s.useEffect)(()=>{a(300),i("active"),null==t||t("active")},[r]),(0,n.jsx)("div",{className:"text-base font-bold text-center text-red-600",children:(e=>{let t=Math.floor(e/60);return"".concat(t.toString().padStart(2,"0"),":").concat((e%60).toString().padStart(2,"0"))})(l)})};var i=r(99800),c=r(52596);let u=function(e){let{handleSubmit:t,loading:r,onChange:u,otpLength:x=6,email:d,handleResentOTP:f}=e,[m,p]=(0,s.useState)(Array(x).fill("")),g=(0,s.useRef)([]),[h,S]=(0,s.useState)(!1),v=(e,t)=>{if(!/^\d?$/.test(e))return;let r=[...m];if(r[t]=e,p(r),e&&t<x-1){var n;null==(n=g.current[t+1])||n.focus()}},y=(e,t)=>{var r,n,s;"Backspace"===e.key&&!m[t]&&t>0&&(null==(r=g.current[t-1])||r.focus()),"ArrowLeft"===e.key&&t>0&&(null==(n=g.current[t-1])||n.focus()),"ArrowRight"===e.key&&t<x-1&&(null==(s=g.current[t+1])||s.focus())},w=e=>{let t=e.clipboardData.getData("text").slice(0,x);if(!/^\d+$/.test(t))return;let r=t.split("");p([...r,...Array(x-r.length).fill("")]),setTimeout(()=>{var e;null==(e=g.current[t.length-1])||e.focus()},0)};return(0,s.useEffect)(()=>{u(m)},[m]),(0,n.jsxs)("main",{children:[(0,n.jsx)(l.A,{}),(0,n.jsx)("div",{className:" flex my-40 items-center justify-center px-4",children:(0,n.jsxs)("div",{className:"w-full sm:max-w-[400px]  bg-white text-center",children:[(0,n.jsx)("h2",{className:"sm:text-[27px] text-[19.5px] font-medium font-poppins",children:"Enter OTP To Continue"}),(0,n.jsxs)("p",{className:"text-[#767676] font-normal font-poppins text-[9px] sm:text-[12px]",children:["Enter the code sent to ",(0,n.jsx)("span",{className:"text-[#FF1645] font-normal font-poppins text-[12px]",children:d})]}),(0,n.jsx)("div",{className:"flex justify-between mb-[18px] text-[11px] sm:gap-[15px] mt-[18px]",children:m.map((e,t)=>(0,n.jsx)("input",{type:"text",inputMode:"numeric",maxLength:1,value:e,ref:e=>g.current[t]=e,onChange:e=>v(e.target.value,t),onKeyDown:e=>y(e,t),onPaste:w,autoFocus:0===t,className:"w-[40.5px] h-[40.5px] sm:w-[52.5px] sm:h-[52.5px] text-center text-xl border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-[#FFE7EC]"},t))}),(0,n.jsx)(i.A,{className:"py-1",children:(0,n.jsx)(o,{resetTrigger:!h,onStatusChange:e=>{"timeout"===e&&S(!0)}})}),(0,n.jsx)("p",{className:"text-[#767676] font-normal font-poppins text-[12px]",children:"Didn't get OTP Code?"}),(0,n.jsx)("button",{onClick:f,className:(0,c.A)("text-[#FF1645] font-normal font-poppins text-[12px]",h?"cursor-pointer":"cursor-not-allowed opacity-50"),children:"Resend Code"}),(0,n.jsxs)("button",{type:"submit",onClick:t,disabled:r,className:"w-full mt-3 text-[14px] cursor-pointer max-w-md w-f font-medium bg-[#FF1645] text-white  h-[35px] rounded-[3px] hover:bg-[#D8133A] transition flex items-center justify-center",children:[r?(0,n.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):null,r?"loading...":"Submit"]})]})}),(0,n.jsx)(a.w,{})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[4506,512,9204,5891,4134,2995,9304,5710,6698,404,3568,841,1448,8441,1684,7358],()=>t(18546)),_N_E=e.O()}]);